<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artaleå¯µç‰©è£œè¡€è¨­å®š%æ•¸è¨ˆç®—</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding: 40px 20px; margin: 0; }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); width: 100%; max-width: 500px; }
        h2 { text-align: center; color: #1a73e8; margin-top: 0; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }
        input[type="number"] { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; font-size: 16px; }
        
        .checkbox-group { display: flex; align-items: center; margin: 20px 0; padding: 12px; background: #e3f2fd; border-radius: 6px; border: 1px solid #90caf9; }
        .checkbox-group input { width: 20px; height: 20px; margin-right: 10px; cursor: pointer; }
        .checkbox-group label { margin-bottom: 0; cursor: pointer; color: #0d47a1; }

        button { width: 100%; padding: 12px; background-color: #1a73e8; color: white; border: none; border-radius: 6px; font-size: 18px; cursor: pointer; transition: 0.3s; margin-top: 10px; }
        button:hover { background-color: #1557b0; }
        
        /* çµæœé¡¯ç¤ºå€ */
        .result-box { margin-top: 25px; padding: 20px; border-radius: 8px; display: none; }
        .normal { background-color: #e8f0fe; border-left: 6px solid #1a73e8; }
        .warning { background-color: #fce8e6; border-left: 6px solid #d93025; }
        .result-title { font-weight: bold; margin-bottom: 8px; }
        .result-value { font-size: 2.2em; font-weight: bold; display: block; margin-bottom: 10px; }
        .warning-list { color: #d93025; padding-left: 20px; font-weight: bold; }

        /* ç¯„ä¾‹å€å¡Š */
        .example-box { margin-top: 30px; padding: 15px; background-color: #f8f9fa; border: 1px dashed #ccc; border-radius: 8px; font-size: 0.9em; color: #555; }
        .example-title { font-weight: bold; color: #333; margin-bottom: 5px; display: block; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
    </style>
</head>
<body>

<div class="container">
    <h2>Artaleå¯µç‰©è£œè¡€è¨­å®š%æ•¸</h2>

    <div class="form-group">
        <label for="hp">1. è‡ªèº«çš„åŸå§‹ HP:</label>
        <input type="number" id="hp" placeholder="ä¾‹å¦‚: 9000">
    </div>

    <div class="form-group">
        <label for="hit">2. æ•µäººæœ€ç—›ä¸€ä¸‹é€ æˆçš„å‚·å®³:</label>
        <input type="number" id="hit" placeholder="ä¾‹å¦‚: 1400">
    </div>

    <div class="form-group">
        <label for="heal">3. è£œå“çš„å›å¾©é‡:</label>
        <input type="number" id="heal" placeholder="ä¾‹å¦‚: 500">
    </div>

    <div class="form-group">
        <label for="n">4. é ç•™èƒ½æ’å¹¾ä¸‹çš„é¡åº¦:</label>
        <input type="number" id="n" placeholder="ä¾‹å¦‚: 3">
    </div>

    <div class="checkbox-group">
        <input type="checkbox" id="holyFire">
        <label for="holyFire">æœ‰ç„¡ç¥è–ä¹‹ç« (HP 1.6 å€)</label>
    </div>

    <button onclick="calculate()">ç«‹å³è¨ˆç®—</button>

    <div id="resultBox" class="result-box">
        <div class="result-title" id="resultTitle">è¨ˆç®—çµæœï¼š</div>
        <span id="finalValue" class="result-value"></span>
        <div id="warningMsg" class="warning-list" style="display:none;">
            <div>âš ï¸ è­¦å‘Šå»ºè­°äº‹é …ï¼š</div>
            <ul>
                <li>å¯èƒ½éœ€è¦ç©å®¶æ‰‹å‹•å”åŠ©è£œè¡€</li>
                <li>èª¿ä½èƒ½æ’å¹¾ä¸‹çš„é¡åº¦</li>
                <li>ä½¿ç”¨æ›´å¥½çš„è£œå“</li>
            </ul>
        </div>
    </div>

    <div class="example-box">
        <span class="example-title">ğŸ’¡ è¨ˆç®—ç¯„ä¾‹ï¼š</span>
        é¾é¨è¡€é‡: 9000 | æ•µäººå‚·å®³æœ€ç—›ä¸€ä¸‹: 1400<br>
        ç†±ç‹—å ¡è£œ HP: 500 | é ç•™é‚„èƒ½åƒ3ä¸‹é¡åº¦: 3<br>
        ç‹€æ…‹: æœ‰ç¥è–ä¹‹ç« (å‹¾é¸)<br>
        <strong>çµæœåˆ†æï¼š</strong> [(3 * 1400Â²) / (14400 * 500)] * 100% â‰ˆ <strong>81.67%</strong>
    </div>
</div>

<script>
    function calculate() {
        let HP = parseFloat(document.getElementById('hp').value);
        const Hit = parseFloat(document.getElementById('hit').value);
        const Heal = parseFloat(document.getElementById('heal').value);
        const n = parseFloat(document.getElementById('n').value);
        const hasHolyFire = document.getElementById('holyFire').checked;

        if (isNaN(HP) || isNaN(Hit) || isNaN(Heal) || isNaN(n)) {
            alert("è«‹å¡«å¯«æ‰€æœ‰æ•¸å€¼");
            return;
        }

        // è™•ç†ç¥è–ä¹‹ç«
        if (hasHolyFire) {
            HP = HP * 1.6;
        }

        if (HP === 0 || Heal === 0) {
            alert("HP æˆ– è£œå“é‡ä¸èƒ½ç‚º 0");
            return;
        }

        // å…¬å¼: [(n * Hit^2) / (HP * Heal)] * 100%
        const result = ((n * Math.pow(Hit, 2)) / (HP * Heal)) * 100;

        const resultBox = document.getElementById('resultBox');
        const finalValue = document.getElementById('finalValue');
        const warningMsg = document.getElementById('warningMsg');

        resultBox.style.display = 'block';
        finalValue.innerText = result.toFixed(2) + "%";

        // åˆ¤æ–·çµæœæ˜¯å¦ > 100%
        if (result > 100) {
            resultBox.className = 'result-box warning';
            warningMsg.style.display = 'block';
            finalValue.style.color = '#d93025';
        } else {
            resultBox.className = 'result-box normal';
            warningMsg.style.display = 'none';
            finalValue.style.color = '#1a73e8';
        }
    }
</script>

</body>

</html>
